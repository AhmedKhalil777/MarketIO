import getBoundingClientRect from"./getBoundingClientRect.js";import getNodeScroll from"./getNodeScroll.js";import getNodeName from"./getNodeName.js";import{isHTMLElement}from"./instanceOf.js";import getWindowScrollBarX from"./getWindowScrollBarX.js";import getDocumentElement from"./getDocumentElement.js";export default function getCompositeRect(e,t,o){var l;void 0===o&&(o=!1);var n=getBoundingClientRect(e),r={scrollLeft:0,scrollTop:0},i={x:0,y:0};return o||("body"!==getNodeName(t)&&(r=getNodeScroll(t)),isHTMLElement(t)?((i=getBoundingClientRect(t)).x+=t.clientLeft,i.y+=t.clientTop):(l=getDocumentElement(t))&&(i.x=getWindowScrollBarX(l))),{x:n.left+r.scrollLeft-i.x,y:n.top+r.scrollTop-i.y,width:n.width,height:n.height}};